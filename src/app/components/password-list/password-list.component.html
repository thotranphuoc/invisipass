<div class="vault-container">
  <div class="vault-header">
    <div class="title-group">
      <h1>Vault <span class="status-badge">Secured</span></h1>
      <p class="subtitle">Securely managing your digital identity.</p>
    </div>
    
    <div class="action-header">
      @if (isLocked()) {
        <button mat-raised-button class="unlock-btn" (click)="requestUnlock()">
          <mat-icon>lock_open</mat-icon> Unlock Vault
        </button>
      } @else {
        <button mat-stroked-button class="active-status" (click)="lockVault()">
          <mat-icon>verified_user</mat-icon> Active
        </button>
      }
    </div>
  </div>

  <div class="search-box">
    <mat-icon>search</mat-icon>
    <input type="text" placeholder="Search accounts...">
  </div>

  <div class="list-grid">
    @for (acc of accounts(); track acc.id) {
      <mat-card class="password-card">
        <mat-card-header>
          <div mat-card-avatar class="app-avatar">
            <mat-icon>shield</mat-icon>
          </div>
          <mat-card-title>{{ acc.appPath }}</mat-card-title>
          <mat-card-subtitle>{{ acc.label }}</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="credential-item">
            <label>Username</label>
            <div class="value" [class.blurred]="isLocked()">
              {{ isLocked() ? '••••••••••••' : decrypt(acc.username) }}
            </div>
          </div>
          <div class="credential-item">
            <label>Password</label>
            <div class="value" [class.blurred]="isLocked()">
              {{ isLocked() ? '••••••••••••' : decrypt(acc.password) }}
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions align="end">
          @if (!isLocked()) {
            <button mat-icon-button class="icon-btn" (click)="copy(decrypt(acc.password))">
              <mat-icon>content_copy</mat-icon>
            </button>
            <button mat-icon-button color="warn" class="icon-btn">
              <mat-icon>delete_outline</mat-icon>
            </button>
          }
        </mat-card-actions>
      </mat-card>
    } @empty {
      <div class="empty-state">
        <mat-icon class="ghost-icon">face_6</mat-icon>
        <h3>No accounts found</h3>
        <p>Start securing your digital life now.</p>
      </div>
    }
  </div>
</div>